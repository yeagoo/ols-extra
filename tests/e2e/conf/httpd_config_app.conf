serverName                ols-app-test
user                      nobody
group                     nogroup
priority                  0
autoRestart               1
chrootPath                /
enableChroot              0
inMemBufSize              60M
swappingDir               /tmp/lshttpd/swap
autoFix503                1
gracefulRestartTimeout    300
mime                      conf/mime.properties
showVersionNumber         0
adminEmails               root@localhost

errorlog /usr/local/lsws/logs/error.log {
  logLevel                DEBUG
  debugLevel              0
  rollingSize             10M
  enableStderrLog         1
}

accesslog /usr/local/lsws/logs/access.log {
  rollingSize             10M
  keepDays                30
  compressArchive         0
}

module ols_htaccess {
  ls_enabled              1
}

extprocessor lsphp81 {
  type                    lsapi
  address                 uds://tmp/lshttpd/lsphp81.sock
  maxConns                10
  env                     PHP_LSAPI_CHILDREN=10
  env                     LSAPI_AVOID_FORK=200M
  initTimeout             60
  retryTimeout            0
  persistConn             1
  respBuffer              0
  autoStart               2
  path                    /usr/local/lsws/lsphp81/bin/lsphp
  backlog                 100
  instances               1
  priority                0
  memSoftLimit            2047M
  memHardLimit            2047M
  procSoftLimit           1400
  procHardLimit           1500
}

scripthandler {
  add                     lsapi:lsphp81 php
}

listener Default {
  address                 *:8088
  secure                  0
  map                     apps *
}

virtualhost apps {
  vhRoot                  /var/www/vhosts/apps
  configFile              conf/vhosts/apps/vhconf.conf
  allowSymbolLink         1
  enableScript            1
  restrained              0
}
